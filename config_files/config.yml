
# These will be dynamically updated using evaluate statements
# self.config refers to the API Configuration settings (this file + all other .yml files)
# RootDirs is defined in user_path_definitions.yml
# Is a concatenation of all .yml and .ini configuration inputs

RelativePaths:
  # RelativePaths will dynamically added to a "Paths" section below using eval statements
  raw: f"{self.config['RootDirs']['Highfreq']}/{self.siteID}/raw/"
  # Metadata and Biomet data generated by preprocessing for use in EddyPro
  meta_dir: f"{self.config['RootDirs']['Outputs']}/{self.siteID}/metadata/"
  output_path: f"{self.config['RootDirs']['Outputs']}/{self.siteID}/eddyProOutputs/"

Paths:

metadataFiles:
  # Each section describes a separate csv file stored in meta_dir
  # the key:value pairs are **kwargs for pandas to read the files
  fileInventory:
    parse_dates: [0]
    index_col: [0]
  rawDataStatistics:
    parse_dates: [0]
    index_col: [0]
    header: [0,1,2]
  metaDataValues:
    parse_dates: [0]
    index_col: [0]
    header: [0,1]
  configurationGroups:
    index_col: [0]
    header: [0,1,2]

rpOutputs:
  fluxnet:
    header: [0]
    parse_dates: [0]
    date_format: '%Y%m%d%H%M'
    keep_date_col: True
  biomet: 
    header: [0,1]
    parse_dates: [0,1]
    date_format: '%Y-%m-%d %H:%M'
    keep_date_col: True

groupFiles:
  groupMetaData: f"group_{groupID}_MetaData.metadata"
  eddyProCols: f"group_{groupID}_ColDefs.eddypro"

# Value for missing data in text columns
# Idea is to use a non-default NaN value so that text columns are preserved where desired
# Pandas defaults to object datatype with mixed string/NaN columns
stringTags:
  NaN: '~'
  exclude: _Exclude_
  groupID: f"group_{groupID}_"

# templates:
#   variableList: ini_files/VariableNames.ini

delimiters:
  comma: ','
  tab: '\t'

ghg:
  # Regex search for dates in filename
  extension: 'ghg'
  search: '([0-9]{4}\-[0-9]{2}\-[0-9]{2}T[0-9]{6})'
  format: '%Y-%m-%dT%H%M%S'
  ep_date_pattern: yyyy-mm-ddTHHMM??


dat:
  extension: 'dat'
  search: ([0-9]{4}\_[0-9]{2}\_[0-9]{2}\_[0-9]{4})
  format: '%Y_%m_%d_%H%M'
  ep_date_pattern: yyyy_mm_dd_HHMM
  # Must provide some extra metadata when not using .ghg format
  # List of values to fill with NaNs
  na_values: 
  - NAN
  # rows to skip (start count form 0)
  skip_rows: [0,3]
  # header rows (after)
  header_rows: [0,1]


biom_timestamp:
  name: TIMESTAMP_1
  format: '%Y-%m-%d %H%M'

# Calibration_Info:
#   # Set to True to include (only where it exists)
#   # Skipping will speed up
#   readCal:  True